# Meeting 10 - Core Protocol Working Group

**Date**: February 27, 2025 (Thursday), 10-11am PT (17-18:00 UTC)

## Agenda
1. Categories of Flow Upgrades  
2. Optimistic Data Retrieval for Access Nodes
3. 

:pencil: :point_right: Anyone can **add agenda topics** by creating a pull request on this file and extending the list above.

**Attendees:** 

## Meeting Content

### 1. Categories of Flow Upgrades

- **Optional Upgrade**
  - can be deployed in rolling fashion (nodes can be upgraded at different times)
  - only for changes that are _completely upwards_ and _downwards compatible_
  - node operators can opt for not deploying that change (discouraged)
  - Announcements and Coordination (by Flow Foundation):
    - message in Flow-Foundation-internal Slack channel `#flow-ops` 
    - for Node Operators: post message "Please upgrade to version x.x.x" on Discord channel [`flow-validators-announcements`](https://discord.com/channels/613813861610684416/709812863287427103)
      and [`Node Operations` topic](https://forum.flow.com/c/node-operations/36) on Forums
    - for Community: no messaging necessary
- **Rolling Software Upgrade**
  - can be deployed in rolling manner
  - mandatory update: within a larger time window (days or weeks), all affected nodes have to be updated or they will automatically cease to participate (enter crash loop, until updated by the operator)
  - suitable for upgrading the Execution Stack if the different behaviour can be enabled by a feature flag
  - suitable for upgrading protocol
  - Announcements and Coordination (by Flow Foundation):
      - message in Flow-Foundation-internal Slack channel `#flow-ops`
      - for Node Operators: post message "[Action required] Please upgrade to version x.x.x by zz Date" on Discord channel [`flow-validators-announcements`](https://discord.com/channels/613813861610684416/709812863287427103)
        and [`Node Operations` topic](https://forum.flow.com/c/node-operations/36) on Forums
      - for Community: no messaging necessary
- **_Time_ Coordinated Upgrade [TCU]** (previously called Height-Coordinated-Upgrade, aka HCU)
  - mandatory update: all affected nodes will need to be upgraded at the same block height
  - only practical for Execution Nodes [ENs] due to their small number, because EN node operators have to join a call
  - Announcements and Coordination (by Flow Foundation):
    - coordinate call for TCU with EN operators
    - message in Flow-Foundation-internal Slack channel `#flow-ops`
    - for Node Operators: post message "[Action required on zz Date] Please upgrade to version x.x.x at yy:yy UTC on zz Date" on Discord channel [`flow-validators-announcements`](https://discord.com/channels/613813861610684416/709812863287427103)
      and [`Node Operations` topic](https://forum.flow.com/c/node-operations/36) on Forums
    - for Community: post message "TCU - transaction execution will pause for 5 minutes till the ENs restart"
- **Major Network Upgrade** (aka spork) 
  - mandatory update for _all_ nodes in the network 
  - mostly all node operators have to join a call 
  - Announcements and Coordination (by Flow Foundation):
      - coordinate Spork meeting with all node operators
      - message in Flow-Foundation-internal Slack channel `#flow-ops`
      - for Node Operators: post message "[Action required on zz Date]  Please upgrade node at yy:yy UTC on zz Date to version that will be shared that day" on Discord channel [`flow-validators-announcements`](https://discord.com/channels/613813861610684416/709812863287427103)
        and [`Node Operations` topic](https://forum.flow.com/c/node-operations/36) on Forums
      - for Community: post message "network will be down for 30 mins"

### 2. Optimistic Data Retrieval for Access Nodes

:point_right: notion doc [Optimistic Syncing](https://flowfoundation.notion.site/WIP-Optimistic-Syncing-1891aee1232480c78939f18831537081?pvs=4)

## Key Outcomes

### 1. Categories of Flow Upgrades
### 2. Optimistic Data Retrieval for Access Nodes

### Links and further reading
- Meeting Transcript: [<file name>](./yyyy-mm-dd_transcript.md)
- Video Recoding: [<file name>](https://drive.google.com/drive/u/0/folders/1WMECJSa-ySSNvcuPFhFn8d7m8dAXL6b7)
